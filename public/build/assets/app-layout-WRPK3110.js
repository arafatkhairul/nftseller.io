import{r as u,j as t,c as re,L as w,a as ae,d as M}from"./app-BQ8RvNwM.js";import{u as ne,b as se,S as _,c as I,d as F,e as oe,f as ie,g as ce,h as le,i as de,j as ue,k as me,l as he,m as pe,A as fe,a as xe}from"./app-shell-DHwS8VWN.js";import{d as ge,e as $,g as be,f as B,D as ve,a as je,b as Se,A as ye}from"./app-logo-CMwlKwqR.js";import{J as Ne,T as H,i as O,h as we,f as Ce,g as E,o as Ae,W as V,X as ke,Y as Ee,U as Le,k as Me,p as _e}from"./index-o_6rpDzu.js";import{d as L}from"./index-B8U4Ab98.js";import{d as Ie,c as v,S as Fe}from"./button-C8BckL50.js";import{q as P,b as Pe,d as z}from"./index-CqpU3lQc.js";import{c as C}from"./createLucideIcon-Dtt6dnGg.js";const qe=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],De=C("ChevronRight",qe);const Re=[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]],$e=C("ChevronsUpDown",Re);const Be=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],Qe=C("LogOut",Be);const Te=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Ue=C("Settings",Te);function He(e,r=[]){let a=[];function o(n,i){const c=u.createContext(i);c.displayName=n+"Context";const d=a.length;a=[...a,i];const p=l=>{const{scope:m,children:f,...j}=l,b=m?.[e]?.[d]||c,N=u.useMemo(()=>j,Object.values(j));return t.jsx(b.Provider,{value:N,children:f})};p.displayName=n+"Provider";function S(l,m){const f=m?.[e]?.[d]||c,j=u.useContext(f);if(j)return j;if(i!==void 0)return i;throw new Error(`\`${l}\` must be used within \`${n}\``)}return[p,S]}const s=()=>{const n=a.map(i=>u.createContext(i));return function(c){const d=c?.[e]||n;return u.useMemo(()=>({[`__scope${e}`]:{...c,[e]:d}}),[c,d])}};return s.scopeName=e,[o,Oe(s,...r)]}function Oe(...e){const r=e[0];if(e.length===1)return r;const a=()=>{const o=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(n){const i=o.reduce((c,{useScope:d,scopeName:p})=>{const l=d(n)[`__scope${p}`];return{...c,...l}},{});return u.useMemo(()=>({[`__scope${r.scopeName}`]:i}),[i])}};return a.scopeName=r.scopeName,a}var Ve=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],q=Ve.reduce((e,r)=>{const a=Ie(`Primitive.${r}`),o=u.forwardRef((s,n)=>{const{asChild:i,...c}=s,d=i?a:r;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),t.jsx(d,{...c,ref:n})});return o.displayName=`Primitive.${r}`,{...e,[r]:o}},{}),A={exports:{}},k={};var Q;function ze(){if(Q)return k;Q=1;var e=re();function r(l,m){return l===m&&(l!==0||1/l===1/m)||l!==l&&m!==m}var a=typeof Object.is=="function"?Object.is:r,o=e.useState,s=e.useEffect,n=e.useLayoutEffect,i=e.useDebugValue;function c(l,m){var f=m(),j=o({inst:{value:f,getSnapshot:m}}),b=j[0].inst,N=j[1];return n(function(){b.value=f,b.getSnapshot=m,d(b)&&N({inst:b})},[l,f,m]),s(function(){return d(b)&&N({inst:b}),l(function(){d(b)&&N({inst:b})})},[l]),i(f),f}function d(l){var m=l.getSnapshot;l=l.value;try{var f=m();return!a(l,f)}catch{return!0}}function p(l,m){return m()}var S=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?p:c;return k.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:S,k}var T;function Ge(){return T||(T=1,A.exports=ze()),A.exports}var We=Ge();function Je(){return We.useSyncExternalStore(Ke,()=>!0,()=>!1)}function Ke(){return()=>{}}var D="Avatar",[Xe]=He(D),[Ye,G]=Xe(D),W=u.forwardRef((e,r)=>{const{__scopeAvatar:a,...o}=e,[s,n]=u.useState("idle");return t.jsx(Ye,{scope:a,imageLoadingStatus:s,onImageLoadingStatusChange:n,children:t.jsx(q.span,{...o,ref:r})})});W.displayName=D;var J="AvatarImage",K=u.forwardRef((e,r)=>{const{__scopeAvatar:a,src:o,onLoadingStatusChange:s=()=>{},...n}=e,i=G(J,a),c=Ze(o,n),d=Ne(p=>{s(p),i.onImageLoadingStatusChange(p)});return L(()=>{c!=="idle"&&d(c)},[c,d]),c==="loaded"?t.jsx(q.img,{...n,ref:r,src:o}):null});K.displayName=J;var X="AvatarFallback",Y=u.forwardRef((e,r)=>{const{__scopeAvatar:a,delayMs:o,...s}=e,n=G(X,a),[i,c]=u.useState(o===void 0);return u.useEffect(()=>{if(o!==void 0){const d=window.setTimeout(()=>c(!0),o);return()=>window.clearTimeout(d)}},[o]),i&&n.imageLoadingStatus!=="loaded"?t.jsx(q.span,{...s,ref:r}):null});Y.displayName=X;function U(e,r){return e?r?(e.src!==r&&(e.src=r),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function Ze(e,{referrerPolicy:r,crossOrigin:a}){const o=Je(),s=u.useRef(null),n=o?(s.current||(s.current=new window.Image),s.current):null,[i,c]=u.useState(()=>U(n,e));return L(()=>{c(U(n,e))},[n,e]),L(()=>{const d=l=>()=>{c(l)};if(!n)return;const p=d("loaded"),S=d("error");return n.addEventListener("load",p),n.addEventListener("error",S),r&&(n.referrerPolicy=r),typeof a=="string"&&(n.crossOrigin=a),()=>{n.removeEventListener("load",p),n.removeEventListener("error",S)}},[n,a,r]),i}var et=W,tt=K,rt=Y;function at({className:e,...r}){return t.jsx(et,{"data-slot":"avatar",className:v("relative flex size-8 shrink-0 overflow-hidden rounded-full",e),...r})}function nt({className:e,...r}){return t.jsx(tt,{"data-slot":"avatar-image",className:v("aspect-square size-full",e),...r})}function st({className:e,...r}){return t.jsx(rt,{"data-slot":"avatar-fallback",className:v("bg-muted flex size-full items-center justify-center rounded-full",e),...r})}function ot(){return u.useCallback(e=>{const r=e.trim().split(" ");if(r.length===0)return"";if(r.length===1)return r[0].charAt(0).toUpperCase();const a=r[0].charAt(0),o=r[r.length-1].charAt(0);return`${a}${o}`.toUpperCase()},[])}function Z({user:e,showEmail:r=!1}){const a=ot();return t.jsxs(t.Fragment,{children:[t.jsxs(at,{className:"h-8 w-8 overflow-hidden rounded-full",children:[t.jsx(nt,{src:e.avatar,alt:e.name}),t.jsx(st,{className:"rounded-lg bg-neutral-200 text-black dark:bg-neutral-700 dark:text-white",children:a(e.name)})]}),t.jsxs("div",{className:"grid flex-1 text-left text-sm leading-tight",children:[t.jsx("span",{className:"truncate font-medium",children:e.name}),r&&t.jsx("span",{className:"truncate text-xs text-muted-foreground",children:e.email})]})]})}function it(){return u.useCallback(()=>{document.body.style.removeProperty("pointer-events")},[])}const h=e=>({url:h.url(e),method:"get"});h.definition={methods:["get","head"],url:"/settings/profile"};h.url=e=>h.definition.url+P(e);h.get=e=>({url:h.url(e),method:"get"});h.head=e=>({url:h.url(e),method:"head"});const R=e=>({action:h.url(e),method:"get"});R.get=e=>({action:h.url(e),method:"get"});R.head=e=>({action:h.url({[e?.mergeQuery?"mergeQuery":"query"]:{_method:"HEAD",...e?.query??e?.mergeQuery??{}}}),method:"get"});h.form=R;const x=e=>({url:x.url(e),method:"patch"});x.definition={methods:["patch"],url:"/settings/profile"};x.url=e=>x.definition.url+P(e);x.patch=e=>({url:x.url(e),method:"patch"});const ee=e=>({action:x.url({[e?.mergeQuery?"mergeQuery":"query"]:{_method:"PATCH",...e?.query??e?.mergeQuery??{}}}),method:"post"});ee.patch=e=>({action:x.url({[e?.mergeQuery?"mergeQuery":"query"]:{_method:"PATCH",...e?.query??e?.mergeQuery??{}}}),method:"post"});x.form=ee;const g=e=>({url:g.url(e),method:"delete"});g.definition={methods:["delete"],url:"/settings/profile"};g.url=e=>g.definition.url+P(e);g.delete=e=>({url:g.url(e),method:"delete"});const te=e=>({action:g.url({[e?.mergeQuery?"mergeQuery":"query"]:{_method:"DELETE",...e?.query??e?.mergeQuery??{}}}),method:"post"});te.delete=e=>({action:g.url({[e?.mergeQuery?"mergeQuery":"query"]:{_method:"DELETE",...e?.query??e?.mergeQuery??{}}}),method:"post"});g.form=te;Object.assign(h,h),Object.assign(x,x),Object.assign(g,g);function ct({user:e}){const r=it(),a=()=>{r(),ae.flushAll()};return t.jsxs(t.Fragment,{children:[t.jsx(ge,{className:"p-0 font-normal",children:t.jsx("div",{className:"flex items-center gap-2 px-1 py-1.5 text-left text-sm",children:t.jsx(Z,{user:e,showEmail:!0})})}),t.jsx($,{}),t.jsx(be,{children:t.jsx(B,{asChild:!0,children:t.jsxs(w,{className:"block w-full",href:h(),as:"button",prefetch:!0,onClick:r,children:[t.jsx(Ue,{className:"mr-2"}),"Settings"]})})}),t.jsx($,{}),t.jsx(B,{asChild:!0,children:t.jsxs(w,{className:"block w-full",href:Pe(),as:"button",onClick:a,"data-test":"logout-button",children:[t.jsx(Qe,{className:"mr-2"}),"Log out"]})})]})}function lt(){const{auth:e}=M().props,{state:r}=ne(),a=se();return t.jsx(_,{children:t.jsx(I,{children:t.jsxs(ve,{children:[t.jsx(je,{asChild:!0,children:t.jsxs(F,{size:"lg",className:"group text-sidebar-accent-foreground data-[state=open]:bg-sidebar-accent","data-test":"sidebar-menu-button",children:[t.jsx(Z,{user:e.user}),t.jsx($e,{className:"ml-auto size-4"})]})}),t.jsx(Se,{className:"w-(--radix-dropdown-menu-trigger-width) min-w-56 rounded-lg",align:"end",side:a?"bottom":r==="collapsed"?"left":"bottom",children:t.jsx(ct,{user:e.user})})]})})})}const dt=[{title:"Dashboard",href:z(),icon:O},{title:"NFT Marketplace",href:"/nft-marketplace",icon:V,badge:"New",badgeVariant:"default"}],ut=[{title:"My Portfolio",href:"/orders",icon:E}],mt=[{title:"Support",href:"/support-tickets",icon:H}],ht=[{title:"Admin Dashboard",href:"/admin/dashboard",icon:O},{title:"Analytics",href:"/admin/analytics",icon:we}],pt=[{title:"Users",href:"/admin/users",icon:Ce},{title:"Orders",href:"/admin/orders",icon:E},{title:"Pending Sent",href:"/admin/orders/pending-sent",icon:Ae},{title:"NFTs",href:"/admin/nfts",icon:E},{title:"Categories",href:"/admin/categories",icon:V},{title:"Artists",href:"/admin/artists",icon:ke},{title:"Blockchains",href:"/admin/blockchains",icon:Ee},{title:"Payment Methods",href:"/admin/payment-methods",icon:Le},{title:"P2P Appeals",href:"/admin/p2p-appeals",icon:Me},{title:"Support Tickets",href:"/admin/support-tickets",icon:H}],ft=[{title:"Settings",href:"/admin/settings",icon:_e}];function y({label:e,items:r}){const a=M(),o=s=>{const n=typeof s=="string"?s:s.url,i=a.url;return n==="/"||n==="/dashboard"?i==="/"||i==="/dashboard":i.startsWith(n)&&i!=="/dashboard"&&i!=="/"};return t.jsxs(de,{className:"px-3 py-2",children:[t.jsx(ue,{className:"text-[10px] font-semibold uppercase tracking-widest text-muted-foreground mb-2",children:e}),t.jsx(me,{children:t.jsx(_,{className:"gap-1",children:r.map(s=>{const n=o(s.href);return t.jsx(I,{children:t.jsx(F,{asChild:!0,isActive:n,tooltip:{children:s.title},className:v("rounded-xl transition-all duration-200 h-9",n&&"bg-accent font-semibold shadow-sm"),children:t.jsxs(w,{href:s.href,prefetch:!0,className:"relative w-full",children:[s.icon&&t.jsx(s.icon,{className:"h-4 w-4 shrink-0"}),t.jsx("span",{className:"truncate text-sm",children:s.title}),s.badge!==void 0&&t.jsx(he,{className:v("rounded-full text-[10px] px-2 py-0.5 font-semibold",s.badgeVariant==="destructive"&&"bg-red-500/10 text-red-600 dark:text-red-400",s.badgeVariant==="secondary"&&"bg-neutral-500/10 text-neutral-600 dark:text-neutral-400",!s.badgeVariant&&"bg-blue-500/10 text-blue-600 dark:text-blue-400"),children:s.badge})]})})},s.title)})})})]})}function xt(){const e=M(),a=e.props.auth.user.role==="admin",o=e.props.unreadSupportCount||0,s=mt.map(n=>n.title==="Support"&&o>0?{...n,badge:o.toString(),badgeVariant:"destructive"}:n);return t.jsxs(oe,{collapsible:"icon",variant:"inset",className:"border-r border-border bg-card",children:[t.jsx(ie,{className:"border-b border-border p-4",children:t.jsx(_,{children:t.jsx(I,{children:t.jsx(F,{size:"lg",asChild:!0,className:"hover:bg-accent rounded-xl transition-all duration-200 h-12",children:t.jsx(w,{href:a?"/admin/dashboard":z(),prefetch:!0,children:t.jsx(ye,{})})})})})}),t.jsx(ce,{className:"gap-0 py-2",children:a?t.jsxs(t.Fragment,{children:[t.jsx(y,{label:"Main",items:ht}),t.jsx(y,{label:"Management",items:pt}),t.jsx(y,{label:"Settings",items:ft})]}):t.jsxs(t.Fragment,{children:[t.jsx(y,{label:"Main",items:dt}),t.jsx(y,{label:"Orders",items:ut}),t.jsx(y,{label:"Account",items:s})]})}),t.jsx(le,{className:"border-t border-border p-3",children:t.jsx(lt,{})})]})}function gt({...e}){return t.jsx("nav",{"aria-label":"breadcrumb","data-slot":"breadcrumb",...e})}function bt({className:e,...r}){return t.jsx("ol",{"data-slot":"breadcrumb-list",className:v("text-muted-foreground flex flex-wrap items-center gap-1.5 text-sm break-words sm:gap-2.5",e),...r})}function vt({className:e,...r}){return t.jsx("li",{"data-slot":"breadcrumb-item",className:v("inline-flex items-center gap-1.5",e),...r})}function jt({asChild:e,className:r,...a}){const o=e?Fe:"a";return t.jsx(o,{"data-slot":"breadcrumb-link",className:v("hover:text-foreground transition-colors",r),...a})}function St({className:e,...r}){return t.jsx("span",{"data-slot":"breadcrumb-page",role:"link","aria-disabled":"true","aria-current":"page",className:v("text-foreground font-normal",e),...r})}function yt({children:e,className:r,...a}){return t.jsx("li",{"data-slot":"breadcrumb-separator",role:"presentation","aria-hidden":"true",className:v("[&>svg]:size-3.5",r),...a,children:e??t.jsx(De,{})})}function Nt({breadcrumbs:e}){return t.jsx(t.Fragment,{children:e.length>0&&t.jsx(gt,{children:t.jsx(bt,{children:e.map((r,a)=>{const o=a===e.length-1;return t.jsxs(u.Fragment,{children:[t.jsx(vt,{children:o?t.jsx(St,{children:r.title}):t.jsx(jt,{asChild:!0,children:t.jsx(w,{href:r.href,children:r.title})})}),!o&&t.jsx(yt,{})]},a)})})})})}function wt({breadcrumbs:e=[]}){return t.jsx("header",{className:"flex h-16 shrink-0 items-center gap-2 border-b border-sidebar-border/50 px-6 transition-[width,height] ease-linear group-has-data-[collapsible=icon]/sidebar-wrapper:h-12 md:px-4",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(pe,{className:"-ml-1"}),t.jsx(Nt,{breadcrumbs:e})]})})}function Ct({children:e,breadcrumbs:r=[]}){return t.jsxs(fe,{variant:"sidebar",children:[t.jsx(xt,{}),t.jsxs(xe,{variant:"sidebar",className:"overflow-x-hidden",children:[t.jsx(wt,{breadcrumbs:r}),t.jsx("div",{className:"flex-1",children:e})]})]})}const Pt=({children:e,breadcrumbs:r,...a})=>t.jsx(Ct,{breadcrumbs:r,...a,children:e});export{Pt as A,h as e,Ge as r};
