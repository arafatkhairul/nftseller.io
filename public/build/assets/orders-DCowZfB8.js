import{r as o,j as e,H as P,L as m,a as F}from"./app-Is6B5HN_.js";import{B as l}from"./button-BvoSCW73.js";import{B as S}from"./badge-DVS8P995.js";import{p as u,F as f,a as p,b as C,e as j,q as g}from"./index-Dcw-kvGL.js";import{A as _}from"./app-layout-D8zxd18g.js";/* empty css            */import"./iconBase-1v7IkioP.js";import"./index-faoXkLGj.js";import"./index-Bku8p30W.js";import"./index-DMN86vGf.js";import"./index-BB024J3-.js";import"./avatar-Dnny_3yN.js";import"./index-CqpU3lQc.js";import"./app-logo-icon-CarE7O8K.js";const b={pending:{color:"bg-yellow-500/10 text-yellow-700 border-yellow-200",icon:C,label:"Pending"},completed:{color:"bg-green-500/10 text-green-700 border-green-200",icon:f,label:"Completed"},cancelled:{color:"bg-red-500/10 text-red-700 border-red-200",icon:p,label:"Cancelled"},failed:{color:"bg-red-500/10 text-red-700 border-red-200",icon:p,label:"Failed"},sent:{color:"bg-blue-500/10 text-blue-700 border-blue-200",icon:f,label:"Sent (P2P)"}},z=[{title:"My Portfolio",href:"/orders"}];function X({orders:t}){const[a,n]=o.useState("all"),[N,i]=o.useState(!1),[r,d]=o.useState(null),x=a==="all"?t:t.filter(s=>s.status===a),v=t.filter(s=>s.status==="completed"),y=t.filter(s=>s.status==="sent"),h=s=>{F.patch(`/admin/orders/${s}/status`,{status:"sent"},{onSuccess:()=>{i(!1),d(null)}})},w=s=>{d(s),i(!0)};return e.jsxs(_,{breadcrumbs:z,children:[e.jsx(P,{title:"My Portfolio"}),e.jsxs("div",{className:"flex h-full flex-1 flex-col gap-6 p-4",children:[e.jsxs("div",{className:"flex items-end justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"My Portfolio"}),t.length>0&&e.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:[t.length," NFT",t.length!==1?"s":""]})]}),e.jsx(m,{href:"/nft-marketplace",children:e.jsx(l,{size:"sm",variant:"outline",children:"Browse NFTs"})})]}),t.length>0&&e.jsx("div",{className:"flex flex-col gap-3",children:e.jsxs("div",{className:"flex gap-2 flex-wrap",children:[e.jsxs(l,{variant:a==="all"?"default":"outline",onClick:()=>n("all"),size:"sm",className:"h-8",children:["All (",t.length,")"]}),e.jsxs(l,{variant:a==="completed"?"default":"outline",onClick:()=>n("completed"),size:"sm",className:"h-8",children:["Completed (",v.length,")"]}),e.jsxs(l,{variant:a==="sent"?"default":"outline",onClick:()=>n("sent"),size:"sm",className:"h-8 gap-1",children:[e.jsx(u,{className:"w-3 h-3"}),"P2P Sent (",y.length,")"]})]})}),t.length>0?e.jsx("div",{className:"space-y-2",children:x.length>0?e.jsx(e.Fragment,{children:x.map(s=>{const c=b[s.status]||b.pending,k=c.icon;return e.jsxs("div",{className:"border border-sidebar-border/50 rounded-lg p-3 hover:border-blue-500/50 hover:bg-muted/40 transition-all",children:[e.jsx(m,{href:`/orders/${s.id}`,children:e.jsxs("div",{className:"group cursor-pointer",children:[e.jsxs("div",{className:"flex items-center justify-between gap-3",children:[e.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[s.nft_image&&e.jsx("img",{src:s.nft_image,alt:s.nft_name,className:"w-10 h-10 rounded bg-muted flex-shrink-0 object-cover"}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-foreground truncate",children:s.nft_name}),e.jsx("p",{className:"text-xs text-muted-foreground truncate",children:s.order_number})]})]}),e.jsxs("div",{className:"hidden sm:flex items-center gap-8 text-xs",children:[e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-muted-foreground",children:"Amount"}),e.jsxs("p",{className:"font-semibold text-emerald-500",children:[s.total_price," ETH"]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-muted-foreground",children:"Payment"}),e.jsx("p",{className:"font-medium text-foreground capitalize",children:s.payment_method})]})]}),e.jsx("div",{className:"flex-shrink-0",children:e.jsxs(S,{className:`${c.color} border flex items-center gap-1 whitespace-nowrap`,children:[e.jsx(k,{className:"w-3 h-3"}),e.jsx("span",{className:"text-xs",children:c.label})]})})]}),e.jsxs("div",{className:"sm:hidden mt-2 pt-2 border-t border-sidebar-border/30 flex justify-between gap-2 text-xs",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-muted-foreground",children:"Amount"}),e.jsxs("p",{className:"font-semibold text-emerald-500",children:[s.total_price," ETH"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-muted-foreground",children:"Payment"}),e.jsx("p",{className:"font-medium text-foreground capitalize",children:s.payment_method})]})]})]})}),s.status==="completed"&&e.jsxs("div",{className:"mt-3 pt-3 border-t border-sidebar-border/30 flex gap-2",children:[e.jsxs(l,{size:"sm",variant:"outline",className:"flex-1 h-8 text-xs gap-1",onClick:()=>w(s),children:[e.jsx(u,{className:"w-3 h-3"}),"P2P Sent"]}),e.jsxs(l,{size:"sm",className:"flex-1 h-8 text-xs gap-1",onClick:()=>h(s.id),children:[e.jsx(j,{className:"w-3 h-3"}),"Sent"]})]})]},s.id)})}):e.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[e.jsx(g,{className:"w-8 h-8 text-muted-foreground mb-2"}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["No ",a!=="all"?a:""," orders"]})]})}):e.jsxs("div",{className:"flex flex-col items-center justify-center py-16 text-center",children:[e.jsx(g,{className:"w-10 h-10 text-muted-foreground mb-3"}),e.jsx("h3",{className:"font-medium text-foreground mb-1",children:"No orders yet"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-6",children:"Start exploring to buy your first NFT"}),e.jsx(m,{href:"/nft-marketplace",children:e.jsx(l,{size:"sm",children:"Browse NFTs"})})]}),N&&r&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-background border border-sidebar-border/70 rounded-lg shadow-lg max-w-sm w-full",children:[e.jsx("div",{className:"border-b border-sidebar-border/70 px-6 py-4",children:e.jsx("h2",{className:"text-lg font-semibold text-foreground",children:"P2P Send NFT"})}),e.jsxs("div",{className:"px-6 py-4 space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-muted/50 rounded-lg",children:[r.nft_image&&e.jsx("img",{src:r.nft_image,alt:r.nft_name,className:"w-12 h-12 rounded bg-muted object-cover flex-shrink-0"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-foreground truncate",children:r.nft_name}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[r.total_price," ETH"]})]})]}),e.jsx("div",{className:"space-y-2",children:e.jsx("p",{className:"text-sm text-muted-foreground",children:'You can now send this NFT to another wallet address using P2P transfer. After sending, mark the order as "Sent" to complete the transaction.'})}),e.jsx("div",{className:"bg-blue-500/10 border border-blue-200/50 rounded-lg p-3",children:e.jsx("p",{className:"text-xs text-blue-700 font-medium",children:"Tip: Keep the transaction hash ready to update your order status."})})]}),e.jsxs("div",{className:"border-t border-sidebar-border/70 px-6 py-4 flex gap-2",children:[e.jsx(l,{variant:"outline",className:"flex-1",onClick:()=>{i(!1),d(null)},children:"Close"}),e.jsxs(l,{className:"flex-1 gap-1",onClick:()=>h(r.id),children:[e.jsx(j,{className:"w-4 h-4"}),"Mark as Sent"]})]})]})})]})]})}export{X as default};
