import{r as o,j as e,H as C,a as x}from"./app-CmPEbBOf.js";import{C as h,a as g,b,c as j,d as F}from"./card-BjFD6rHB.js";import{B as n}from"./button-0G8c-tY3.js";import{B as S}from"./badge-C3AxDUD6.js";import{A}from"./app-layout-BrfCq3T6.js";import{d as P,e as k,a as D,f as M,g as E}from"./index-B68Cwa6z.js";/* empty css            */import"./index-B4m3_3cX.js";import"./iconBase-Bp_A8LP7.js";import"./index-BCq_fzAB.js";import"./index-qrT8drsH.js";import"./index-DmZTcu5t.js";import"./avatar--P-0iIh6.js";import"./index-CqpU3lQc.js";import"./app-logo-icon-b0cFvMJx.js";const I=[{title:"Admin",href:"/admin/dashboard"},{title:"Payment Methods",href:"/admin/payment-methods"}];function Q({paymentMethods:c}){const[f,l]=o.useState(!1),[i,m]=o.useState(null),[p,d]=o.useState(null),[a,r]=o.useState({name:"",description:"",icon:"",logo:null,wallet_address:"",is_active:!0,sort_order:0}),N=()=>{m(null),d(null),r({name:"",description:"",icon:"",logo:null,wallet_address:"",is_active:!0,sort_order:0}),l(!0)},v=s=>{m(s.id),d(s.logo_path?`/storage/${s.logo_path}`:null),r({name:s.name,description:s.description||"",icon:s.icon||"",logo:null,wallet_address:s.wallet_address||"",is_active:s.is_active,sort_order:s.sort_order}),l(!0)},y=s=>{s.preventDefault();const t=new FormData;t.append("name",a.name),t.append("description",a.description),t.append("icon",a.icon),t.append("wallet_address",a.wallet_address),t.append("is_active",String(a.is_active)),t.append("sort_order",String(a.sort_order)),a.logo&&t.append("logo",a.logo),i?x.post(`/admin/payment-methods/${i}?_method=PUT`,t,{onSuccess:()=>{l(!1),m(null),d(null)}}):x.post("/admin/payment-methods",t,{onSuccess:()=>{l(!1),d(null)}})},w=s=>{confirm("Are you sure you want to delete this payment method?")&&x.delete(`/admin/payment-methods/${s}`)};return e.jsxs(A,{breadcrumbs:I,children:[e.jsx(C,{title:"Payment Methods"}),e.jsxs("div",{className:"dash-view",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-4xl font-bold tracking-tight",children:"Payment Methods"}),e.jsx("p",{className:"mt-2 text-lg text-muted-foreground",children:"Manage payment methods available for customers"})]}),e.jsxs(n,{onClick:N,className:"gap-2",children:[e.jsx(P,{className:"w-4 h-4"}),"Add Payment Method"]})]}),f&&e.jsxs(h,{className:"mb-6 border-sidebar-border/70",children:[e.jsx(g,{children:e.jsx(b,{children:i?"Edit Payment Method":"Add New Payment Method"})}),e.jsx(j,{children:e.jsxs("form",{onSubmit:y,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Name *"}),e.jsx("input",{type:"text",required:!0,value:a.name,onChange:s=>r({...a,name:s.target.value}),className:"w-full mt-1 px-3 py-2 border border-sidebar-border/50 rounded-lg focus:outline-none focus:border-blue-500",placeholder:"e.g., Wallet Connect, MetaMask"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Description"}),e.jsx("input",{type:"text",value:a.description,onChange:s=>r({...a,description:s.target.value}),className:"w-full mt-1 px-3 py-2 border border-sidebar-border/50 rounded-lg focus:outline-none focus:border-blue-500",placeholder:"Optional description"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Icon Name"}),e.jsx("input",{type:"text",value:a.icon,onChange:s=>r({...a,icon:s.target.value}),className:"w-full mt-1 px-3 py-2 border border-sidebar-border/50 rounded-lg focus:outline-none focus:border-blue-500",placeholder:"e.g., FaWallet, FaCreditCard"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Logo Image"}),e.jsx("input",{type:"file",accept:"image/*",onChange:s=>{const t=s.target.files?.[0];if(t){r({...a,logo:t});const u=new FileReader;u.onload=_=>{d(_.target?.result)},u.readAsDataURL(t)}},className:"w-full mt-1 px-3 py-2 border border-sidebar-border/50 rounded-lg focus:outline-none focus:border-blue-500"}),p&&e.jsx("div",{className:"mt-2",children:e.jsx("img",{src:p,alt:"Logo preview",className:"w-20 h-20 object-cover rounded-lg"})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Wallet Address"}),e.jsx("textarea",{value:a.wallet_address,onChange:s=>r({...a,wallet_address:s.target.value}),className:"w-full mt-1 px-3 py-2 border border-sidebar-border/50 rounded-lg focus:outline-none focus:border-blue-500",placeholder:"e.g., 0x742d35Cc6634C0532925a3b844Bc5e8aF836eAb4",rows:3})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Sort Order"}),e.jsx("input",{type:"number",min:"0",value:a.sort_order,onChange:s=>r({...a,sort_order:parseInt(s.target.value)}),className:"w-full mt-1 px-3 py-2 border border-sidebar-border/50 rounded-lg focus:outline-none focus:border-blue-500"})]}),e.jsx("div",{className:"flex items-end gap-2",children:e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer flex-1",children:[e.jsx("input",{type:"checkbox",checked:a.is_active,onChange:s=>r({...a,is_active:s.target.checked}),className:"w-4 h-4"}),e.jsx("span",{className:"text-sm font-medium",children:"Active"})]})})]}),e.jsxs("div",{className:"flex gap-2 pt-4",children:[e.jsx(n,{type:"submit",className:"flex-1",children:i?"Update":"Create"}),e.jsx(n,{type:"button",variant:"outline",onClick:()=>l(!1),className:"flex-1",children:"Cancel"})]})]})})]}),e.jsxs(h,{className:"border-sidebar-border/70",children:[e.jsxs(g,{children:[e.jsxs(b,{children:["Payment Methods (",c.length,")"]}),e.jsx(F,{children:"These payment methods will be available during checkout"})]}),e.jsx(j,{children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"border-b",children:e.jsxs("tr",{className:"text-left text-sm font-medium text-muted-foreground",children:[e.jsx("th",{className:"pb-3 px-2",children:"Name"}),e.jsx("th",{className:"pb-3 px-2",children:"Description"}),e.jsx("th",{className:"pb-3 px-2",children:"Icon"}),e.jsx("th",{className:"pb-3 px-2",children:"Order"}),e.jsx("th",{className:"pb-3 px-2",children:"Status"}),e.jsx("th",{className:"pb-3 px-2 text-right",children:"Actions"})]})}),e.jsx("tbody",{children:c.length>0?c.map(s=>e.jsxs("tr",{className:"border-b hover:bg-muted/50 transition-colors",children:[e.jsx("td",{className:"py-4 px-2",children:e.jsx("span",{className:"font-medium text-foreground",children:s.name})}),e.jsx("td",{className:"py-4 px-2",children:e.jsx("span",{className:"text-sm text-muted-foreground",children:s.description||"-"})}),e.jsx("td",{className:"py-4 px-2",children:e.jsx("span",{className:"text-sm font-mono text-muted-foreground",children:s.icon||"-"})}),e.jsx("td",{className:"py-4 px-2",children:e.jsx("span",{className:"text-sm font-medium",children:s.sort_order})}),e.jsx("td",{className:"py-4 px-2",children:e.jsx(S,{className:s.is_active?"bg-green-500/10 text-green-700 border-green-200 border flex items-center gap-1 w-fit":"bg-gray-500/10 text-gray-700 border-gray-200 border flex items-center gap-1 w-fit",children:s.is_active?e.jsxs(e.Fragment,{children:[e.jsx(k,{className:"w-3 h-3"}),"Active"]}):e.jsxs(e.Fragment,{children:[e.jsx(D,{className:"w-3 h-3"}),"Inactive"]})})}),e.jsx("td",{className:"py-4 px-2 text-right",children:e.jsxs("div",{className:"flex gap-2 justify-end",children:[e.jsxs(n,{variant:"ghost",size:"sm",onClick:()=>v(s),className:"gap-1",children:[e.jsx(M,{className:"w-4 h-4"}),"Edit"]}),e.jsxs(n,{variant:"ghost",size:"sm",onClick:()=>w(s.id),className:"gap-1 text-red-500 hover:text-red-700 hover:bg-red-500/10",children:[e.jsx(E,{className:"w-4 h-4"}),"Delete"]})]})})]},s.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"py-8 text-center text-muted-foreground",children:"No payment methods yet. Create one to get started."})})})]})})})]})]})]})}export{Q as default};
