import{r as c,j as e,H as F,b as f}from"./app-COTYBvsO.js";import{B as _}from"./button-Bj-zvocR.js";import{C as S,a as D,b as H,d as B,c as E}from"./card-qO_fwAeJ.js";import{D as I,a as P,b as T,c as q}from"./dialog-Cm05guSW.js";import{I as d}from"./input-CKHNy24-.js";import{L as l}from"./label-4rBvpyJj.js";import{S as y}from"./switch-C8YscYjQ.js";import{A as L}from"./app-layout-C9bu3XQ6.js";import{F as O,j as V,c as M,d as R}from"./Combination-SyY4_UGB.js";/* empty css            */import"./index-DmmPnxF8.js";import"./createLucideIcon-nmn7sstZ.js";import"./index-Cvj8y8DH.js";import"./index-CJw6_QVN.js";import"./index-UIf5QwEV.js";import"./app-shell-BIyPfTiA.js";import"./dropdown-menu-kI874H8q.js";import"./index-lucvfSli.js";import"./iconBase-BlCTSstH.js";const $=[{title:"Admin",href:"/admin/dashboard"},{title:"Hero Banners",href:"/admin/hero-banners"}];function me({banners:h}){const[b,n]=c.useState(!1),[m,v]=c.useState(null),[u,g]=c.useState(!1),[t,p]=c.useState({}),[N,j]=c.useState(null),[r,i]=c.useState({title:"",creator:"",is_verified:!1,background_image:null,floor_price:"",items:"",total_volume:"",listed_percentage:"",display_order:"",is_active:!0}),[G,U]=c.useState({}),C=s=>{const a=s.target.files?.[0];if(a){i({...r,background_image:a});const o=new FileReader;o.onloadend=()=>{j(o.result)},o.readAsDataURL(a)}},w=s=>{s.preventDefault(),g(!0),p({});const a=new FormData;a.append("title",r.title),a.append("creator",r.creator),a.append("is_verified",r.is_verified?"1":"0"),r.background_image&&a.append("background_image",r.background_image),a.append("floor_price",r.floor_price),a.append("items",r.items),a.append("total_volume",r.total_volume),a.append("listed_percentage",r.listed_percentage),a.append("display_order",r.display_order),a.append("is_active",r.is_active?"1":"0"),m?f.post(`/admin/hero-banners/${m}`,a,{onSuccess:()=>{n(!1),x()},onError:o=>{p(o)},onFinish:()=>{g(!1)}}):f.post("/admin/hero-banners",a,{onSuccess:()=>{n(!1),x()},onError:o=>{p(o)},onFinish:()=>{g(!1)}})},x=()=>{i({title:"",creator:"",is_verified:!1,background_image:null,floor_price:"",items:"",total_volume:"",listed_percentage:"",display_order:"",is_active:!0}),j(null),v(null),p({})},A=s=>{i({title:s.title,creator:s.creator,is_verified:s.is_verified,background_image:null,floor_price:s.floor_price.toString(),items:s.items.toString(),total_volume:s.total_volume.toString(),listed_percentage:s.listed_percentage.toString(),display_order:s.display_order.toString(),is_active:s.is_active}),j(s.background_image),v(s.id),n(!0)},k=s=>{confirm("Are you sure you want to delete this hero banner?")&&f.delete(`/admin/hero-banners/${s}`)};return e.jsxs(L,{breadcrumbs:$,children:[e.jsx(F,{title:"Hero Banner Management"}),e.jsxs("div",{className:"dash-view",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-4xl font-bold tracking-tight",children:"Hero Banner Management"}),e.jsx("p",{className:"mt-2 text-lg text-muted-foreground",children:"Manage hero banners displayed on the homepage"})]}),e.jsxs(_,{onClick:()=>{x(),n(!0)},className:"flex items-center gap-2",children:[e.jsx(O,{className:"w-4 h-4"}),"Add Hero Banner"]})]}),e.jsxs(S,{children:[e.jsxs(D,{children:[e.jsx(H,{children:"All Hero Banners"}),e.jsxs(B,{children:["Total of ",h.length," hero banners"]})]}),e.jsx(E,{children:h.length===0?e.jsx("div",{className:"text-center py-8",children:e.jsx("p",{className:"text-muted-foreground",children:"No hero banners yet. Add your first banner!"})}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"border-b",children:e.jsxs("tr",{className:"text-left text-sm font-medium text-muted-foreground",children:[e.jsx("th",{className:"pb-3 px-2",children:"Preview"}),e.jsx("th",{className:"pb-3 px-2",children:"Title"}),e.jsx("th",{className:"pb-3 px-2",children:"Creator"}),e.jsx("th",{className:"pb-3 px-2",children:"Floor Price"}),e.jsx("th",{className:"pb-3 px-2",children:"Order"}),e.jsx("th",{className:"pb-3 px-2",children:"Status"}),e.jsx("th",{className:"pb-3 px-2",children:"Actions"})]})}),e.jsx("tbody",{children:h.map(s=>e.jsxs("tr",{className:"border-b hover:bg-muted/50 transition-colors",children:[e.jsx("td",{className:"py-4 px-2",children:s.background_image?e.jsx("img",{src:s.background_image,alt:s.title,className:"w-20 h-12 rounded-lg object-cover"}):e.jsx("div",{className:"w-20 h-12 rounded-lg bg-muted flex items-center justify-center text-xs",children:"No Image"})}),e.jsx("td",{className:"py-4 px-2",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-medium",children:s.title}),s.is_verified&&e.jsx("div",{className:"w-5 h-5 bg-blue-500 rounded-full flex items-center justify-center",children:e.jsx(V,{className:"w-3 h-3 text-white"})})]})}),e.jsx("td",{className:"py-4 px-2 text-muted-foreground",children:s.creator}),e.jsxs("td",{className:"py-4 px-2 font-medium",children:[s.floor_price," ETH"]}),e.jsx("td",{className:"py-4 px-2 text-muted-foreground",children:s.display_order}),e.jsx("td",{className:"py-4 px-2",children:e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${s.is_active?"bg-green-500/10 text-green-500":"bg-gray-500/10 text-gray-500"}`,children:s.is_active?"Active":"Inactive"})}),e.jsx("td",{className:"py-4 px-2",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>A(s),className:"p-2 text-blue-500 hover:bg-blue-500/10 rounded-lg transition-colors",title:"Edit",children:e.jsx(M,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>k(s.id),className:"p-2 text-red-500 hover:bg-red-500/10 rounded-lg transition-colors",title:"Delete",children:e.jsx(R,{className:"w-4 h-4"})})]})})]},s.id))})]})})})]})]}),e.jsx(I,{open:b,onOpenChange:n,children:e.jsxs(P,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[e.jsx(T,{children:e.jsx(q,{children:m?"Edit Hero Banner":"Add New Hero Banner"})}),e.jsxs("form",{onSubmit:w,className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Basic Information"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(l,{htmlFor:"title",children:"Collection Title *"}),e.jsx(d,{id:"title",value:r.title,onChange:s=>i({...r,title:s.target.value}),placeholder:"e.g., Good Vibes Club",className:"mt-1",required:!0}),t.title&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:Array.isArray(t.title)?t.title[0]:t.title})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"creator",children:"Creator Name *"}),e.jsx(d,{id:"creator",value:r.creator,onChange:s=>i({...r,creator:s.target.value}),placeholder:"e.g., GVC_Official",className:"mt-1",required:!0}),t.creator&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:Array.isArray(t.creator)?t.creator[0]:t.creator})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(y,{id:"is_verified",checked:r.is_verified,onCheckedChange:s=>i({...r,is_verified:s})}),e.jsx(l,{htmlFor:"is_verified",className:"cursor-pointer",children:"Verified Creator"})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"background_image",children:"Background Image *"}),N&&e.jsxs("div",{className:"mt-2 mb-3",children:[e.jsx("img",{src:N,alt:"Preview",className:"w-full h-32 rounded-lg object-cover border"}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:m&&!r.background_image?"Current image":"New image preview"})]}),e.jsx(d,{id:"background_image",type:"file",accept:"image/*",onChange:C,className:"mt-1",required:!m}),t.background_image&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:Array.isArray(t.background_image)?t.background_image[0]:t.background_image})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Collection Statistics"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(l,{htmlFor:"floor_price",children:"Floor Price (ETH) *"}),e.jsx(d,{id:"floor_price",type:"number",step:"0.001",value:r.floor_price,onChange:s=>i({...r,floor_price:s.target.value}),placeholder:"0.592",className:"mt-1",required:!0}),t.floor_price&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:Array.isArray(t.floor_price)?t.floor_price[0]:t.floor_price})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"items",children:"Total Items *"}),e.jsx(d,{id:"items",type:"number",value:r.items,onChange:s=>i({...r,items:s.target.value}),placeholder:"6968",className:"mt-1",required:!0}),t.items&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:Array.isArray(t.items)?t.items[0]:t.items})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"total_volume",children:"Total Volume (ETH) *"}),e.jsx(d,{id:"total_volume",type:"number",step:"0.01",value:r.total_volume,onChange:s=>i({...r,total_volume:s.target.value}),placeholder:"8975.61",className:"mt-1",required:!0}),t.total_volume&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:Array.isArray(t.total_volume)?t.total_volume[0]:t.total_volume})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"listed_percentage",children:"Listed Percentage *"}),e.jsx(d,{id:"listed_percentage",type:"number",step:"0.1",value:r.listed_percentage,onChange:s=>i({...r,listed_percentage:s.target.value}),placeholder:"9.5",className:"mt-1",required:!0}),t.listed_percentage&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:Array.isArray(t.listed_percentage)?t.listed_percentage[0]:t.listed_percentage})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Display Settings"}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"display_order",children:"Display Order *"}),e.jsx(d,{id:"display_order",type:"number",value:r.display_order,onChange:s=>i({...r,display_order:s.target.value}),placeholder:"0",className:"mt-1",required:!0}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Lower numbers appear first"}),t.display_order&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:Array.isArray(t.display_order)?t.display_order[0]:t.display_order})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(y,{id:"is_active",checked:r.is_active,onCheckedChange:s=>i({...r,is_active:s})}),e.jsx(l,{htmlFor:"is_active",className:"cursor-pointer",children:"Active (Show on homepage)"})]})]}),e.jsxs("div",{className:"flex gap-2 pt-4",children:[e.jsx(_,{type:"submit",disabled:u,className:"flex-1",children:u?"Saving...":m?"Update Banner":"Create Banner"}),e.jsx(_,{type:"button",variant:"outline",onClick:()=>{n(!1),x()},disabled:u,className:"flex-1",children:"Cancel"})]})]})]})})]})}export{me as default};
