import{r,j as e,H as F,a as p}from"./app-BQ8RvNwM.js";import{B as j}from"./button-C8BckL50.js";import{C as k,a as S,b as B,d as E,c as L}from"./card-D6KUf70Q.js";import{D as P,a as T,b as I,c as H}from"./dialog-C7KswEIp.js";import{I as b}from"./input-Db2jNf8K.js";import{L as v}from"./label-_83rjlaJ.js";import{A as M}from"./app-layout-WRPK3110.js";import{F as R,c as U,d as _}from"./index-o_6rpDzu.js";/* empty css            */import"./app-shell-DHwS8VWN.js";import"./index-B8U4Ab98.js";import"./createLucideIcon-Dtt6dnGg.js";import"./app-logo-CMwlKwqR.js";import"./index-CqpU3lQc.js";import"./iconBase-LFWoVKCq.js";const $=[{title:"Admin",href:"/admin/dashboard"},{title:"Blockchains",href:"/admin/blockchains"}];function te({blockchains:x}){const[y,n]=r.useState(!1),[i,f]=r.useState(null),[h,u]=r.useState(!1),[t,d]=r.useState({}),[N,g]=r.useState(null),[l,c]=r.useState({name:"",logo:null}),w=s=>{const a=s.target.files?.[0];if(a){c({...l,logo:a});const o=new FileReader;o.onloadend=()=>{g(o.result)},o.readAsDataURL(a)}},C=s=>{s.preventDefault(),u(!0),d({});const a=new FormData;a.append("name",l.name),l.logo&&a.append("logo",l.logo),i?(a.append("_method","PUT"),p.post(`/admin/blockchains/${i}`,a,{onSuccess:()=>{n(!1),m()},onError:o=>{d(o)},onFinish:()=>{u(!1)}})):p.post("/admin/blockchains",a,{onSuccess:()=>{n(!1),m()},onError:o=>{d(o)},onFinish:()=>{u(!1)}})},m=()=>{c({name:"",logo:null}),g(null),f(null),d({})},A=s=>{c({name:s.name,logo:null}),g(s.logo),f(s.id),n(!0)},D=s=>{confirm("Are you sure you want to delete this blockchain?")&&p.delete(`/admin/blockchains/${s}`)};return e.jsxs(M,{breadcrumbs:$,children:[e.jsx(F,{title:"Blockchain Management"}),e.jsxs("div",{className:"dash-view",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-4xl font-bold tracking-tight",children:"Blockchain Management"}),e.jsx("p",{className:"mt-2 text-lg text-muted-foreground",children:"Manage blockchain networks for your NFT marketplace"})]}),e.jsxs(j,{onClick:()=>{m(),n(!0)},className:"flex items-center gap-2",children:[e.jsx(R,{className:"w-4 h-4"}),"Add Blockchain"]})]}),e.jsxs(k,{children:[e.jsxs(S,{children:[e.jsx(B,{children:"All Blockchains"}),e.jsxs(E,{children:["Total of ",x.length," blockchains"]})]}),e.jsx(L,{children:x.length===0?e.jsx("div",{className:"text-center py-8",children:e.jsx("p",{className:"text-muted-foreground",children:"No blockchains yet. Add your first blockchain!"})}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"border-b",children:e.jsxs("tr",{className:"text-left text-sm font-medium text-muted-foreground",children:[e.jsx("th",{className:"pb-3 px-2",children:"Logo"}),e.jsx("th",{className:"pb-3 px-2",children:"Name"}),e.jsx("th",{className:"pb-3 px-2",children:"NFTs Count"}),e.jsx("th",{className:"pb-3 px-2",children:"Actions"})]})}),e.jsx("tbody",{children:x.map(s=>e.jsxs("tr",{className:"border-b hover:bg-muted/50 transition-colors",children:[e.jsx("td",{className:"py-4 px-2",children:s.logo?e.jsx("img",{src:s.logo,alt:s.name,className:"w-10 h-10 rounded-lg object-contain bg-muted p-1"}):e.jsx("div",{className:"w-10 h-10 rounded-lg bg-muted flex items-center justify-center text-xs font-bold",children:s.name.charAt(0)})}),e.jsx("td",{className:"py-4 px-2 font-medium",children:s.name}),e.jsx("td",{className:"py-4 px-2 text-muted-foreground",children:s.nfts_count}),e.jsx("td",{className:"py-4 px-2",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>A(s),className:"p-2 text-blue-500 hover:bg-blue-500/10 rounded-lg transition-colors",title:"Edit",children:e.jsx(U,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>D(s.id),className:"p-2 text-red-500 hover:bg-red-500/10 rounded-lg transition-colors",title:"Delete",children:e.jsx(_,{className:"w-4 h-4"})})]})})]},s.id))})]})})})]})]}),e.jsx(P,{open:y,onOpenChange:n,children:e.jsxs(T,{children:[e.jsx(I,{children:e.jsx(H,{children:i?"Edit Blockchain":"Add New Blockchain"})}),e.jsxs("form",{onSubmit:C,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(v,{htmlFor:"name",children:"Blockchain Name"}),e.jsx(b,{id:"name",value:l.name,onChange:s=>c({...l,name:s.target.value}),placeholder:"e.g., Ethereum, Polygon, Solana",className:"mt-1",required:!0}),t.name&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:Array.isArray(t.name)?t.name[0]:t.name})]}),e.jsxs("div",{children:[e.jsx(v,{htmlFor:"logo",children:"Logo"}),N&&e.jsxs("div",{className:"mt-2 mb-3",children:[e.jsx("img",{src:N,alt:"Preview",className:"w-20 h-20 rounded-lg object-contain bg-muted p-2 border"}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:i&&!l.logo?"Current logo":"New logo preview"})]}),e.jsx(b,{id:"logo",type:"file",accept:"image/*",onChange:w,className:"mt-1"}),t.logo&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:Array.isArray(t.logo)?t.logo[0]:t.logo})]}),e.jsxs("div",{className:"flex gap-2 pt-4",children:[e.jsx(j,{type:"submit",disabled:h,className:"flex-1",children:h?"Saving...":i?"Update":"Create"}),e.jsx(j,{type:"button",variant:"outline",onClick:()=>{n(!1),m()},disabled:h,className:"flex-1",children:"Cancel"})]})]})]})})]})}export{te as default};
