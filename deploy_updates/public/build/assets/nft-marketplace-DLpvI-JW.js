import{r as m,j as e,b as H,u as G,H as O,d as R}from"./app-COTYBvsO.js";import{H as U,F as W}from"./header-D5D9Y6kx.js";import{i as Y,j as Q,e as J,k as K,b as X,l as M,m as Z,n as ee,o as I,h as te,p as se}from"./index-CFxIt8s5.js";import{B as $}from"./badge-DDBQUlkY.js";import{B as N}from"./button-Bj-zvocR.js";import{D as ae,a as re}from"./dialog-Cm05guSW.js";import{I as ie}from"./input-CKHNy24-.js";import{G as V}from"./iconBase-BlCTSstH.js";import{C as A,c as B}from"./card-qO_fwAeJ.js";/* empty css            */import"./Combination-SyY4_UGB.js";import"./index-Cvj8y8DH.js";import"./index-CJw6_QVN.js";import"./dropdown-menu-kI874H8q.js";import"./index-DmmPnxF8.js";import"./createLucideIcon-nmn7sstZ.js";function le({collections:i,onCollectionChange:d}){const[t,b]=m.useState(0),l=i[t],x=()=>{const n=t===0?i.length-1:t-1;b(n),d?.(n)},v=()=>{const n=t===i.length-1?0:t+1;b(n),d?.(n)},u=n=>{b(n),d?.(n)};return l?e.jsxs("div",{className:"relative w-full h-[500px] sm:h-[520px] md:h-[420px] lg:h-[450px] overflow-hidden rounded-xl sm:rounded-2xl vercel-card",children:[e.jsx("div",{className:"absolute inset-0 bg-cover bg-center transition-all duration-700 ease-out",style:{backgroundImage:`url(${l.backgroundImage})`},children:e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/90 via-black/60 to-black/30 md:from-black/80 md:via-black/40 md:to-black/20"})}),e.jsx("button",{onClick:x,className:"absolute left-2 sm:left-4 top-1/2 -translate-y-1/2 w-8 h-8 sm:w-10 sm:h-10 bg-black/70 hover:bg-black/90 rounded-lg sm:rounded-xl flex items-center justify-center text-white transition-all duration-200 z-20 border border-white/20","aria-label":"Previous collection",children:e.jsx(Y,{className:"w-4 h-4 sm:w-5 sm:h-5"})}),e.jsx("button",{onClick:v,className:"absolute right-2 sm:right-4 top-1/2 -translate-y-1/2 w-8 h-8 sm:w-10 sm:h-10 bg-black/70 hover:bg-black/90 rounded-lg sm:rounded-xl flex items-center justify-center text-white transition-all duration-200 z-20 border border-white/20","aria-label":"Next collection",children:e.jsx(Q,{className:"w-4 h-4 sm:w-5 sm:h-5"})}),e.jsxs("div",{className:"relative z-10 h-full flex flex-col justify-between p-4 sm:p-5 md:p-6 lg:p-8",children:[e.jsx("div",{className:"flex-1"}),e.jsxs("div",{className:"mb-4 sm:mb-5 md:mb-6",children:[e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 mb-1.5 sm:mb-2",children:[e.jsx("h1",{className:"text-2xl sm:text-3xl md:text-4xl lg:text-5xl font-bold text-white leading-tight",children:l.title}),l.isVerified&&e.jsx("div",{className:"w-6 h-6 sm:w-7 sm:h-7 lg:w-8 lg:h-8 bg-blue-500 rounded-full flex items-center justify-center flex-shrink-0",children:e.jsx(J,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 lg:w-5 lg:h-5 text-white"})})]}),e.jsxs("p",{className:"text-sm sm:text-base lg:text-lg text-white/90 font-medium",children:["By ",l.creator]})]}),e.jsx("div",{className:"relative bg-black/70 md:bg-black/60 rounded-xl sm:rounded-2xl p-4 sm:p-5 md:p-6 lg:p-8 border border-white/20",children:e.jsxs("div",{className:"grid grid-cols-1 xs:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-5 md:gap-6 lg:gap-8",children:[e.jsxs("div",{className:"text-center xs:text-left",children:[e.jsx("div",{className:"text-[10px] sm:text-xs lg:text-sm text-white/70 font-semibold mb-1.5 sm:mb-2 uppercase tracking-wider",children:"Floor Price"}),e.jsxs("div",{className:"text-lg sm:text-xl lg:text-2xl font-bold text-white",children:[l.stats.floorPrice.eth," ETH"]}),e.jsxs("div",{className:"text-[10px] sm:text-xs text-white/60 font-medium mt-0.5 sm:mt-1",children:["â‰ˆ $",(l.stats.floorPrice.eth*2500).toLocaleString()]})]}),e.jsxs("div",{className:"text-center xs:text-left",children:[e.jsx("div",{className:"text-[10px] sm:text-xs lg:text-sm text-white/70 font-semibold mb-1.5 sm:mb-2 uppercase tracking-wider",children:"Items"}),e.jsx("div",{className:"text-lg sm:text-xl lg:text-2xl font-bold text-white",children:l.stats.items.toLocaleString()}),e.jsx("div",{className:"text-[10px] sm:text-xs text-white/60 font-medium mt-0.5 sm:mt-1",children:"Total Supply"})]}),e.jsxs("div",{className:"text-center xs:text-left",children:[e.jsx("div",{className:"text-[10px] sm:text-xs lg:text-sm text-white/70 font-semibold mb-1.5 sm:mb-2 uppercase tracking-wider",children:"Total Volume"}),e.jsxs("div",{className:"text-lg sm:text-xl lg:text-2xl font-bold text-white",children:[l.stats.totalVolume.eth.toLocaleString()," ETH"]}),e.jsx("div",{className:"text-[10px] sm:text-xs text-white/60 font-medium mt-0.5 sm:mt-1",children:"All Time"})]}),e.jsxs("div",{className:"text-center xs:text-left",children:[e.jsx("div",{className:"text-[10px] sm:text-xs lg:text-sm text-white/70 font-semibold mb-1.5 sm:mb-2 uppercase tracking-wider",children:"Listed"}),e.jsxs("div",{className:"text-lg sm:text-xl lg:text-2xl font-bold text-white",children:[l.stats.listed,"%"]}),e.jsxs("div",{className:"text-[10px] sm:text-xs text-white/60 font-medium mt-0.5 sm:mt-1",children:[Math.floor(l.stats.items*l.stats.listed/100)," Items"]})]})]})})]}),e.jsx("div",{className:"absolute bottom-3 sm:bottom-4 md:bottom-6 left-1/2 -translate-x-1/2 flex items-center gap-1.5 sm:gap-2 z-20 bg-black/60 md:bg-black/40 rounded-full px-3 sm:px-4 py-1.5 sm:py-2 border border-white/20",children:i.map((n,h)=>e.jsx("button",{onClick:()=>u(h),className:`transition-all duration-200 rounded-full ${h===t?"w-6 sm:w-8 h-1.5 sm:h-2 bg-white":"w-1.5 sm:w-2 h-1.5 sm:h-2 bg-white/50 hover:bg-white/80"}`,"aria-label":`Go to collection ${h+1}`},h))})]}):null}function oe(i){return V({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m23 12-2.44-2.79.34-3.69-3.61-.82-1.89-3.2L12 2.96 8.6 1.5 6.71 4.69 3.1 5.5l.34 3.7L1 12l2.44 2.79-.34 3.7 3.61.82L8.6 22.5l3.4-1.47 3.4 1.46 1.89-3.19 3.61-.82-.34-3.69L23 12zm-12.91 4.72-3.8-3.81 1.48-1.48 2.32 2.33 5.85-5.87 1.48 1.48-7.33 7.35z"},child:[]}]})(i)}function _(i){return V({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M11.944 17.97L4.58 13.62 11.943 24l7.37-10.38-7.372 4.35h.003zM12.056 0L4.69 12.223l7.365 4.354 7.365-4.35L12.056 0z"},child:[]}]})(i)}function de({open:i,onOpenChange:d,nft:t,onPurchase:b,onLike:l}){const[x,v]=m.useState(1),[u,n]=m.useState(""),[h,g]=m.useState(""),[p,o]=m.useState(900),[j,k]=m.useState(!1),[F,P]=m.useState([]),[L,T]=m.useState(!1);m.useEffect(()=>{i&&(async()=>{T(!0);try{const c=await fetch("/admin/payment-methods/active");if(c.ok){const C=await c.json();P(C),C.length>0&&n(C[0].name)}}catch(c){console.error("Failed to load payment methods:",c)}finally{T(!1)}})()},[i]),m.useEffect(()=>{i&&(v(1),g(""),o(900))},[i]),m.useEffect(()=>{if(x!==2)return;const s=setInterval(()=>{o(c=>c>0?c-1:0)},1e3);return()=>clearInterval(s)},[x]),m.useMemo(()=>t?(t.price.eth*1e3).toFixed(0):"0",[t]);const S=s=>s?s.toLowerCase().includes("polygon")?"MATIC":s.toLowerCase().includes("binance")?"BNB":s.toLowerCase().includes("solana")?"SOL":"ETH":"ETH";if(!t)return null;const a=S(t.blockchain_data?.name),f=()=>{v(2)},w=()=>{k(!0);const s={nft_id:parseInt(t.id),total_price:t.price.eth,quantity:1,payment_method:u,transaction_id:h||null};H.post("/orders",s,{onSuccess:()=>{k(!1),d(!1)},onError:c=>{console.error("Order submission error:",c),k(!1),alert("Error placing order. Please try again.")}})},y=F.find(s=>s.name===u),E=s=>{const c=Math.floor(s/60).toString().padStart(2,"0"),C=Math.floor(s%60).toString().padStart(2,"0");return`${c}:${C}`},q=async()=>{if(navigator.share)try{await navigator.share({title:t.name,text:`Check out ${t.name} on our marketplace!`,url:window.location.href})}catch(s){console.log("Error sharing:",s)}else navigator.clipboard.writeText(window.location.href)},z=s=>s>=1e9?(s/1e9).toFixed(1).replace(/\.0$/,"")+"B":s>=1e6?(s/1e6).toFixed(1).replace(/\.0$/,"")+"M":s>=1e3?(s/1e3).toFixed(1).replace(/\.0$/,"")+"k":s.toString(),D=s=>{const c=(s||"Common").toLowerCase();return c==="legendary"?"text-yellow-500":c==="epic"?"text-purple-500":c==="rare"?"text-blue-500":c==="uncommon"?"text-green-500":"text-gray-500"};return e.jsx(ae,{open:i,onOpenChange:d,children:e.jsxs(re,{fullScreen:!0,className:"p-0 gap-0 overflow-hidden bg-background flex flex-col md:flex-row [&>button]:hidden",children:[e.jsxs("div",{className:"relative w-full md:w-[50%] lg:w-[60%] h-[200px] md:h-auto bg-zinc-950 flex items-center justify-center p-3 md:p-8 overflow-hidden group shrink-0",children:[e.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[e.jsx("img",{src:t.image,alt:"",className:"w-full h-full object-cover blur-sm scale-110"}),e.jsx("div",{className:"absolute inset-0 bg-black/10 backdrop-blur-sm"})]}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-zinc-950 via-transparent to-zinc-950/10"}),e.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_center,_var(--tw-gradient-stops))] from-transparent via-zinc-950/20 to-zinc-950/60"}),e.jsx("div",{className:"relative z-10 transition-transform duration-700 group-hover:scale-105 group-hover:rotate-1 max-h-full md:h-auto flex items-center",children:e.jsx("img",{src:t.image,alt:t.name,className:"relative max-h-[180px] w-auto md:w-full md:h-auto md:max-h-none md:max-w-[500px] aspect-square object-cover rounded-lg md:rounded-2xl ring-white/10"})}),e.jsx("div",{className:"absolute top-3 left-3 md:top-6 md:left-6 z-20",children:t.blockchain_data?e.jsxs($,{variant:"secondary",className:"bg-black/40 backdrop-blur-xl border-white/10 text-white px-3 py-1.5 text-sm font-medium hover:bg-black/60 transition-colors flex items-center gap-2",children:[t.blockchain_data.logo?e.jsx("img",{src:t.blockchain_data.logo,alt:t.blockchain_data.name,className:"w-4 h-4 object-contain"}):e.jsx(_,{className:"w-3.5 h-3.5 text-blue-400"}),t.blockchain_data.name," Network"]}):e.jsxs($,{variant:"secondary",className:"bg-black/40 backdrop-blur-xl border-white/10 text-white px-3 py-1.5 text-sm font-medium hover:bg-black/60 transition-colors",children:[e.jsx(_,{className:"w-3.5 h-3.5 mr-2 text-blue-400"})," Ethereum Network"]})}),e.jsx("div",{className:"absolute bottom-3 right-3 md:bottom-6 md:right-6 z-20 flex gap-3",children:e.jsx(N,{size:"icon",variant:"secondary",className:"h-10 w-10 rounded-full bg-black/40 backdrop-blur-xl border border-white/10 text-white hover:bg-white/10 hover:scale-110 transition-all duration-300",onClick:q,children:e.jsx(K,{className:"w-4 h-4"})})})]}),e.jsxs("div",{className:"flex-1 flex flex-col bg-background/95 backdrop-blur-3xl max-h-screen md:h-full overflow-hidden relative border-l border-border/50",children:[e.jsx("div",{className:"absolute top-0 right-0 w-[500px] h-[500px] bg-blue-500/5 rounded-full blur-3xl -translate-y-1/2 translate-x-1/2 pointer-events-none"}),e.jsxs("div",{className:"px-4 md:px-8 py-4 md:py-6 border-b flex items-center justify-between bg-background/80 backdrop-blur-md z-10 sticky top-0 shrink-0",children:[e.jsxs("div",{className:"flex items-center gap-3 text-sm text-muted-foreground",children:[e.jsx("span",{className:"font-semibold text-foreground text-base md:text-lg tracking-tight",children:x===1?"NFT Details":"Checkout"}),x===2&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-muted-foreground/40 text-lg",children:"/"}),e.jsxs("span",{className:"flex items-center gap-2 text-sm bg-red-500/10 text-red-500 px-3 py-1 rounded-full font-medium animate-pulse",children:[e.jsx(X,{className:"w-3.5 h-3.5"})," ",E(p)]})]})]}),e.jsxs(N,{variant:"ghost",size:"icon",className:"h-10 w-10 rounded-full hover:bg-muted transition-colors",onClick:()=>d(!1),children:[e.jsx("span",{className:"sr-only",children:"Close"}),e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-5 w-5",children:[e.jsx("path",{d:"M18 6 6 18"}),e.jsx("path",{d:"m6 6 12 12"})]})]})]}),e.jsx("div",{className:"flex-1 overflow-y-auto overscroll-contain min-h-0",children:e.jsx("div",{className:"max-w-2xl mx-auto p-4 md:p-8 pb-8",children:x===1?e.jsxs("div",{className:"space-y-6 md:space-y-8 animate-in fade-in slide-in-from-bottom-8 duration-700",children:[e.jsx("div",{className:"space-y-3 md:space-y-4",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx("h2",{className:"text-xl md:text-4xl font-bold tracking-tight text-foreground",children:t.name}),t.artist&&e.jsxs("div",{className:"flex items-center gap-2 text-sm md:text-base mb-2",children:[e.jsx("span",{className:"text-muted-foreground",children:"Created by"}),e.jsxs("span",{className:"font-medium text-foreground flex items-center gap-2 bg-muted/50 px-3 py-1.5 rounded-full hover:bg-muted transition-colors cursor-pointer",children:[t.artist.avatar?e.jsx("img",{src:t.artist.avatar,alt:t.artist.name,className:"w-5 h-5 rounded-full object-cover"}):e.jsx("div",{className:"w-5 h-5 rounded-full bg-primary/20 flex items-center justify-center text-[10px] font-bold text-primary",children:t.artist.name.charAt(0)}),t.artist.name,t.artist.is_verified&&e.jsx(oe,{className:"w-4 h-4 text-blue-500"})]})]})]})})}),e.jsxs("div",{className:"p-4 md:p-6 rounded-2xl border bg-card/50 hover:bg-card/80 transition-colors space-y-4 md:space-y-5 shadow-sm",children:[e.jsx("div",{className:"text-xs md:text-sm font-medium text-muted-foreground uppercase tracking-wider",children:"Current Price"}),e.jsxs("div",{className:"flex items-baseline gap-3 md:gap-4",children:[e.jsxs("div",{className:"text-xl md:text-4xl font-bold font-mono tracking-tight",children:[t.price.eth," ",a]}),e.jsxs("div",{className:"text-sm md:text-xl text-muted-foreground font-medium",children:["$",t.price.usd.toLocaleString()]})]}),e.jsx("div",{className:"pt-2",children:e.jsx(N,{size:"lg",className:"w-full font-bold text-sm md:text-lg h-11 md:h-14 rounded-xl shadow-lg shadow-primary/20 hover:shadow-primary/40 transition-all disabled:opacity-50 disabled:cursor-not-allowed",onClick:f,disabled:!t.quantity||t.quantity<=0,children:!t.quantity||t.quantity<=0?"Sold Out":"Buy Now"})})]}),e.jsxs("div",{className:"space-y-2 md:space-y-3",children:[e.jsx("div",{className:"text-sm md:text-base font-semibold text-foreground flex items-center gap-2",children:"Description"}),e.jsx("p",{className:"text-sm md:text-base text-muted-foreground leading-relaxed whitespace-pre-wrap",children:t.description||`This unique digital collectible is part of the ${t.creator} collection. Verified on the blockchain, this NFT grants you exclusive ownership rights and access to community perks.`})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-3 md:gap-4",children:[e.jsxs("div",{className:"p-3 md:p-4 rounded-xl border bg-card/50 text-center space-y-1",children:[e.jsx("div",{className:"text-[10px] md:text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Views"}),e.jsxs("div",{className:"text-base md:text-xl font-bold flex items-center justify-center gap-2",children:[e.jsx(M,{className:"w-3.5 md:w-4 h-3.5 md:h-4 text-blue-500"}),z(t.views||0)]})]}),e.jsxs("div",{className:`p-3 md:p-4 rounded-xl border bg-card/50 text-center space-y-1 cursor-pointer transition-colors ${t.isLiked?"border-red-500/50 bg-red-500/10":"hover:bg-card/80"}`,onClick:()=>l?.(t.id),children:[e.jsx("div",{className:"text-[10px] md:text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Likes"}),e.jsxs("div",{className:`text-base md:text-xl font-bold flex items-center justify-center gap-2 ${t.isLiked?"text-red-500":""}`,children:[e.jsx(Z,{className:`w-3.5 md:w-4 h-3.5 md:h-4 ${t.isLiked?"fill-current":""}`}),z(t.likes||0)]})]}),e.jsxs("div",{className:"p-3 md:p-4 rounded-xl border bg-card/50 text-center space-y-1",children:[e.jsx("div",{className:"text-[10px] md:text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Quantity"}),e.jsxs("div",{className:"text-base md:text-xl font-bold flex items-center justify-center gap-2",children:[e.jsx(ee,{className:"w-3.5 md:w-4 h-3.5 md:h-4 text-green-500"}),z(t.quantity??1)]})]}),e.jsxs("div",{className:"p-3 md:p-4 rounded-xl border bg-card/50 text-center space-y-1",children:[e.jsx("div",{className:"text-[10px] md:text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Rarity"}),e.jsxs("div",{className:`text-base md:text-xl font-bold flex items-center justify-center gap-2 ${D(t.rarity)}`,children:[e.jsx(I,{className:"w-3.5 md:w-4 h-3.5 md:h-4"}),t.rarity||"Common"]})]})]}),e.jsxs("div",{className:"space-y-3 md:space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm md:text-base font-semibold text-foreground",children:[e.jsx(I,{className:"w-4 h-4"})," Properties"]}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3 md:gap-4",children:t.properties&&t.properties.length>0?t.properties.map((s,c)=>e.jsxs("div",{className:"p-3 md:p-4 rounded-xl border bg-muted/30 hover:bg-muted/60 transition-all cursor-default group",children:[e.jsx("div",{className:"text-[10px] md:text-xs text-blue-500 font-bold uppercase tracking-wider mb-1.5 group-hover:text-blue-400",children:s.trait_type}),e.jsx("div",{className:"font-semibold text-sm md:text-base text-foreground",children:s.value})]},c)):e.jsx("div",{className:"col-span-full text-center text-muted-foreground italic py-4",children:"No properties added for this NFT."})})]})]}):e.jsxs("div",{className:"space-y-6 md:space-y-8 animate-in fade-in slide-in-from-right-8 duration-500",children:[e.jsxs(N,{variant:"ghost",size:"sm",className:"-ml-2 gap-1 text-muted-foreground hover:text-foreground",onClick:()=>v(1),children:[e.jsx(te,{className:"w-4 h-4"})," Back to details"]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-base md:text-lg font-semibold tracking-tight",children:"Select Payment Method"}),e.jsx("span",{className:"text-xs text-muted-foreground uppercase tracking-wider font-medium",children:"Step 1 of 2"})]}),L?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-primary"})}):e.jsx("div",{className:"grid gap-3 max-h-[240px] overflow-y-auto pr-1",children:F.map(s=>e.jsxs("div",{onClick:()=>n(s.name),className:`
                                                            group relative flex items-center gap-4 p-4 rounded-lg border cursor-pointer transition-all duration-200
                                                            ${u===s.name?"border-zinc-500 ring-1 ring-zinc-500 bg-zinc-500/10":"border-border hover:border-zinc-500/50 hover:bg-muted/20"}
                                                        `,children:[e.jsx("div",{className:`
                                                            h-5 w-5 rounded-full border flex items-center justify-center transition-colors
                                                            ${u===s.name?"border-foreground bg-foreground text-background":"border-muted-foreground/30 group-hover:border-muted-foreground/60"}
                                                        `,children:u===s.name&&e.jsx("div",{className:"h-2 w-2 rounded-full bg-background"})}),e.jsx("div",{className:"h-10 w-10 rounded-md bg-muted/50 flex items-center justify-center border border-border/50",children:s.logo_path?e.jsx("img",{src:`/storage/${s.logo_path}`,alt:s.name,className:"h-6 w-6 object-contain"}):e.jsx("span",{className:"text-sm font-bold",children:s.name[0]})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-medium text-sm text-foreground",children:s.name}),s.description&&e.jsx("div",{className:"text-xs text-muted-foreground mt-0.5",children:s.description})]})]},s.id))})]}),y&&e.jsxs("div",{className:"space-y-6 pt-6 border-t animate-in fade-in slide-in-from-bottom-4 duration-500",children:[e.jsxs("div",{className:"bg-muted/30 rounded-2xl p-4 md:p-6 space-y-4 md:space-y-5 border",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground font-medium",children:"Total Amount"}),e.jsxs("span",{className:"font-mono font-bold text-base md:text-lg",children:[t.price.eth," ",a]})]}),y.qr_code&&e.jsxs("div",{className:"space-y-4 pt-2",children:[e.jsx("div",{className:"text-xs font-bold uppercase tracking-wider text-muted-foreground text-center",children:"Scan to Pay"}),e.jsx("div",{className:"bg-white p-3 rounded-xl w-fit mx-auto shadow-sm",dangerouslySetInnerHTML:{__html:y.qr_code}})]}),y.wallet_address&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"text-xs font-bold uppercase tracking-wider text-muted-foreground",children:"Wallet Address"}),e.jsx("div",{className:"font-mono text-xs bg-background border rounded-lg p-3 break-all text-center select-all",children:y.wallet_address})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"text-sm font-medium",children:"Transaction Hash"}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(ie,{placeholder:"Enter transaction hash (0x...)",value:h,onChange:s=>g(s.target.value),className:"font-mono text-sm h-11 md:h-12"}),e.jsx(N,{variant:"outline",className:"h-11 md:h-12 px-4 md:px-6",onClick:async()=>{try{const s=await navigator.clipboard.readText();g(s)}catch{}},children:"Paste"})]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Please enter the transaction hash after completing the payment."})]})]}),e.jsx("div",{className:"pt-6 pb-20",children:e.jsx(N,{className:"w-full h-14 text-base md:text-lg font-bold rounded-xl shadow-lg shadow-primary/20 hover:shadow-primary/40 transition-all",onClick:w,disabled:j||!y||h.length<5,children:j?e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-5 w-5 border-3 border-current border-t-transparent rounded-full animate-spin"}),"Processing Payment..."]}):"Confirm Payment"})})]})})})]})]})})}function ne({id:i,name:d,image:t,price:b,creator:l,blockchain_data:x,onView:v,onPurchase:u,className:n=""}){const g=(o=>o?o.toLowerCase().includes("polygon")?"MATIC":o.toLowerCase().includes("binance")?"BNB":o.toLowerCase().includes("solana")?"SOL":"ETH":"ETH")(x?.name),p=()=>{v?.(i)};return e.jsxs(A,{onClick:p,className:`group vercel-card relative overflow-hidden rounded-2xl border transition-all duration-200 p-0 cursor-pointer ${n}`,children:[e.jsx("div",{className:"relative aspect-square overflow-hidden bg-muted",children:e.jsx("img",{src:t,alt:d,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500",onError:o=>{const j=o.target;j.src=`data:image/svg+xml,${encodeURIComponent(`
                            <svg width="300" height="300" xmlns="http://www.w3.org/2000/svg">
                                <defs>
                                    <linearGradient id="bg" x1="0%" y1="0%" x2="100%" y2="100%">
                                        <stop offset="0%" style="stop-color:#1e293b"/>
                                        <stop offset="100%" style="stop-color:#0f172a"/>
                                    </linearGradient>
                                </defs>
                                <rect width="300" height="300" fill="url(#bg)"/>
                                <text x="150" y="140" text-anchor="middle" dy=".3em" fill="#e2e8f0" font-family="Inter, Arial" font-size="16" font-weight="600">
                                    ${d}
                                </text>
                                <text x="150" y="165" text-anchor="middle" dy=".3em" fill="#64748b" font-family="Inter, Arial" font-size="12">
                                    Premium NFT Collection
                                </text>
                            </svg>
                        `)}`}})}),e.jsxs(B,{className:"p-4 space-y-3",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-base truncate",children:d}),l&&e.jsxs("p",{className:"text-xs text-muted-foreground truncate mt-0.5",children:["by ",l]})]}),e.jsx("div",{className:"space-y-2",children:e.jsxs("div",{className:"flex items-baseline justify-between",children:[e.jsxs("div",{className:"flex items-center gap-1.5",children:[x?.logo?e.jsx("img",{src:x.logo,alt:x.name,className:"w-4 h-4 object-contain"}):e.jsx(_,{className:"w-4 h-4 text-foreground"}),e.jsx("span",{className:"text-lg font-bold",children:b.eth}),e.jsx("span",{className:"text-xs text-muted-foreground",children:g})]}),e.jsxs("div",{className:"text-xs text-muted-foreground",children:["$",b.usd.toLocaleString()]})]})}),e.jsxs("div",{className:"flex gap-2 pt-2",children:[e.jsxs("button",{onClick:o=>{o.stopPropagation(),p()},className:"flex-1 py-2 px-3 bg-accent hover:bg-accent/80 text-foreground rounded-xl text-xs font-medium transition-all duration-200 flex items-center justify-center gap-2",children:[e.jsx(M,{className:"w-3.5 h-3.5"}),e.jsx("span",{children:"View"})]}),e.jsxs("button",{onClick:o=>{o.stopPropagation(),p()},className:"flex-1 py-2 px-3 bg-primary hover:bg-primary/90 text-primary-foreground rounded-xl text-xs font-semibold transition-all duration-200 flex items-center justify-center gap-2",children:[e.jsx(se,{className:"w-3.5 h-3.5"}),e.jsx("span",{children:"Buy Now"})]})]})]})]})}function ce(){return e.jsxs(A,{className:"group vercel-card relative overflow-hidden rounded-2xl border transition-all duration-200 p-0 animate-pulse",children:[e.jsx("div",{className:"relative aspect-square overflow-hidden bg-muted",children:e.jsx("div",{className:"w-full h-full bg-gradient-to-br from-muted to-muted/80"})}),e.jsxs(B,{className:"p-4 space-y-3",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"h-4 bg-muted rounded w-3/4"}),e.jsx("div",{className:"h-3 bg-muted rounded w-1/2"})]}),e.jsx("div",{className:"space-y-2",children:e.jsxs("div",{className:"flex items-baseline justify-between",children:[e.jsx("div",{className:"h-6 bg-muted rounded w-24"}),e.jsx("div",{className:"h-3 bg-muted rounded w-16"})]})}),e.jsxs("div",{className:"flex gap-2 pt-2",children:[e.jsx("div",{className:"flex-1 h-8 bg-accent rounded-xl"}),e.jsx("div",{className:"flex-1 h-8 bg-primary/10 rounded-xl"})]})]})]})}function me({title:i="NFTS",nfts:d,showSeeAll:t=!0,onSeeAll:b,onNFTLike:l,onNFTView:x,onNFTPurchase:v,className:u="",gridCols:n={sm:1,md:2,lg:4,xl:4},isLoading:h=!1}){const g="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-2";return e.jsxs("section",{className:`py-3 max-w-full ${u}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h2",{className:"text-xl md:text-2xl font-bold text-foreground",children:i}),t&&!h&&e.jsx(N,{variant:"ghost",onClick:b,className:"text-muted-foreground hover:text-foreground hover:bg-muted text-sm",children:"See all"})]}),h?e.jsx("div",{className:`${g} w-full max-w-full`,children:Array.from({length:10}).map((o,j)=>e.jsx(ce,{},`skeleton-${j}`))}):d.length>0?e.jsx("div",{className:`${g} w-full max-w-full`,children:d.map(o=>e.jsx(ne,{...o,onLike:l,onView:x,onPurchase:v},o.id))}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"text-gray-500 text-lg mb-4",children:"No NFTs found"}),e.jsx("p",{className:"text-gray-400 text-sm",children:"Check back later for new collections"})]}),d.length>0&&d.length>=8&&e.jsx("div",{className:"flex justify-center mt-8",children:e.jsx(N,{variant:"outline",onClick:b,className:"bg-gray-800 border-gray-600 text-white hover:bg-gray-700 hover:border-gray-500",children:"Load More NFTs"})})]})}const r="https://i2.seadn.io/hyperevm/0x9125e2d6827a00b0f8330d6ef7bef07730bac685/a95969c6d8d235c4459ed84d1067dd/7da95969c6d8d235c4459ed84d1067dd.png?w=350",xe=[{id:"good-vibes-club",title:"Good Vibes Club",creator:"GVC_Official",isVerified:!0,backgroundImage:"https://images.unsplash.com/photo-1550745165-9bc0b252726f?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&q=80",stats:{floorPrice:{eth:.592},items:6968,totalVolume:{eth:8975.61},listed:9.5},featuredNFTs:[{id:"featured-1",image:r,name:"Good Vibes #1234"},{id:"featured-2",image:r,name:"Good Vibes #5678"},{id:"featured-3",image:r,name:"Good Vibes #9012"}]},{id:"crypto-punks",title:"CryptoPunks",creator:"LarvaLabs",isVerified:!0,backgroundImage:"https://images.unsplash.com/photo-1639322537228-f710d846310a?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&q=80",stats:{floorPrice:{eth:45.2},items:1e4,totalVolume:{eth:954821.73},listed:1.2},featuredNFTs:[{id:"punk-1",image:r,name:"CryptoPunk #7804"},{id:"punk-2",image:r,name:"CryptoPunk #3100"},{id:"punk-3",image:r,name:"CryptoPunk #5822"}]},{id:"bored-apes",title:"Bored Ape Yacht Club",creator:"Yuga Labs",isVerified:!0,backgroundImage:"https://images.unsplash.com/photo-1618172193763-c511deb635ca?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&q=80",stats:{floorPrice:{eth:12.8},items:1e4,totalVolume:{eth:673420.12},listed:2.8},featuredNFTs:[{id:"ape-1",image:r,name:"Bored Ape #8817"},{id:"ape-2",image:r,name:"Bored Ape #2087"},{id:"ape-3",image:r,name:"Bored Ape #5014"}]},{id:"azuki",title:"Azuki",creator:"Chiru Labs",isVerified:!0,backgroundImage:"https://images.unsplash.com/photo-1526374965328-7f61d4dc18c5?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&q=80",stats:{floorPrice:{eth:3.45},items:1e4,totalVolume:{eth:298765.89},listed:4.1},featuredNFTs:[{id:"azuki-1",image:r,name:"Azuki #9605"},{id:"azuki-2",image:r,name:"Azuki #4521"},{id:"azuki-3",image:r,name:"Azuki #7832"}]},{id:"doodles",title:"Doodles",creator:"Doodles LLC",isVerified:!0,backgroundImage:"https://images.unsplash.com/photo-1535223289827-42f1e9919769?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&q=80",stats:{floorPrice:{eth:2.1},items:1e4,totalVolume:{eth:145632.44},listed:6.7},featuredNFTs:[{id:"doodle-1",image:r,name:"Doodle #6914"},{id:"doodle-2",image:r,name:"Doodle #2847"},{id:"doodle-3",image:r,name:"Doodle #8193"}]}],ue=[{id:"1",name:"Hypurr #2633",image:r,price:{eth:1.62,usd:4050},creator:"Hypurr Collection",likes:24,views:156,isLiked:!1},{id:"2",name:"Hypurr #2634",image:r,price:{eth:1.45,usd:3625},creator:"Hypurr Collection",likes:18,views:203,isLiked:!0},{id:"3",name:"Hypurr #2635",image:r,price:{eth:1.78,usd:4450},creator:"Hypurr Collection",likes:31,views:89,isLiked:!1},{id:"4",name:"Hypurr #2636",image:r,price:{eth:1.52,usd:3800},creator:"Hypurr Collection",likes:42,views:267,isLiked:!1},{id:"5",name:"Hypurr #2637",image:r,price:{eth:1.69,usd:4225},creator:"Hypurr Collection",likes:15,views:134,isLiked:!1},{id:"6",name:"Hypurr #2638",image:r,price:{eth:1.38,usd:3450},creator:"Hypurr Collection",likes:28,views:198,isLiked:!0},{id:"7",name:"Hypurr #2639",image:r,price:{eth:1.85,usd:4625},creator:"Hypurr Collection",likes:37,views:245,isLiked:!1},{id:"8",name:"Hypurr #2640",image:r,price:{eth:1.72,usd:4300},creator:"Hypurr Collection",likes:52,views:312,isLiked:!1},{id:"9",name:"Hypurr #2641",image:r,price:{eth:1.59,usd:3975},creator:"Hypurr Collection",likes:38,views:189,isLiked:!0},{id:"10",name:"Hypurr #2642",image:r,price:{eth:1.82,usd:4550},creator:"Hypurr Collection",likes:67,views:298,isLiked:!1}];function Pe({nfts:i=[],categories:d=[],heroBanners:t=[]}){const l=G().props.auth?.user||null,[x,v]=m.useState(!0),[u,n]=m.useState(null),[h,g]=m.useState(!1),[p,o]=m.useState("All"),j=i.length>0?i.map(a=>{const f=parseFloat(String(a.blockchain_data?.exchange_rate||"0")),w=f>0?f:2e3;return{id:String(a.id),name:a.name,description:a.description,image:a.image_url,price:{eth:parseFloat(String(a.price)),usd:parseFloat(String(a.price))*w},creator:a.creator?.name||"Unknown Creator",artist:a.artist?{name:a.artist.name,avatar:a.artist.avatar,is_verified:a.artist.is_verified}:void 0,blockchain_data:a.blockchain_data,likes:a.likes,views:a.views,rarity:a.rarity,category:a.category,quantity:a.quantity,isLiked:a.is_liked,properties:a.properties}}):ue,k=p==="All"?j:j.filter(a=>a.category===p);m.useEffect(()=>{const a=setTimeout(()=>{v(!1)},600);return()=>clearTimeout(a)},[i]);const F=()=>{window.location.href="/login"},P=()=>{console.log("See all NFTs clicked")},L=async a=>{if(!l){window.location.href="/login";return}try{const f=await R.post(`/nfts/${a}/like`);f.data.success&&(H.reload({only:["nfts"]}),u&&u.id===a&&n(w=>({...w,isLiked:f.data.liked,likes:f.data.likes_count})))}catch(f){console.error("Error liking NFT:",f)}},T=a=>{const f=j.find(w=>w.id===a)||null;n(f),g(!0)},S=a=>{g(!1),H.visit("/order-confirmation")};return e.jsxs(e.Fragment,{children:[e.jsx(O,{title:"NFT Marketplace",children:e.jsx("meta",{name:"description",content:"Discover, collect, and sell extraordinary NFTs on the world's first and largest NFT marketplace."})}),e.jsxs("div",{className:"min-h-screen bg-background bg-animated",children:[e.jsx(U,{user:l,onLoginClick:F,categories:d,activeCategory:p,onCategoryChange:o}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 lg:px-6 pt-6",children:[e.jsx("div",{className:"w-full mb-12",children:e.jsx(le,{collections:t.length>0?t:xe,onCollectionChange:a=>console.log(`Collection changed to index: ${a}`)})}),e.jsx("div",{className:"w-full",children:e.jsx(me,{title:p==="All"?"Featured NFTs":`${p} NFTs`,nfts:k,showSeeAll:!0,onSeeAll:P,onNFTLike:L,onNFTView:T,onNFTPurchase:S,isLoading:x})}),e.jsx("div",{className:"h-8"})]})]}),e.jsx(de,{open:h,onOpenChange:g,nft:u,onPurchase:S,onLike:L}),e.jsx(W,{})]})}export{Pe as default};
