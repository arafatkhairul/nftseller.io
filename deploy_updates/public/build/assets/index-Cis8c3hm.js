import{r as l,j as e,H as u,L as h,b as x}from"./app-COTYBvsO.js";import{B as d}from"./badge-DDBQUlkY.js";import{B as a}from"./button-Bj-zvocR.js";import{C as g,a as j,b as f,c as b}from"./card-qO_fwAeJ.js";import{D as v,a as y,b as N,c as D,d as T,e as C}from"./dialog-Cm05guSW.js";import{A as _}from"./app-layout-C9bu3XQ6.js";import{d as k,D as A}from"./Combination-SyY4_UGB.js";/* empty css            */import"./index-DmmPnxF8.js";import"./createLucideIcon-nmn7sstZ.js";import"./index-Cvj8y8DH.js";import"./index-CJw6_QVN.js";import"./app-shell-BIyPfTiA.js";import"./dropdown-menu-kI874H8q.js";import"./index-lucvfSli.js";import"./iconBase-BlCTSstH.js";function J({tickets:i}){const[n,o]=l.useState(null),[c,t]=l.useState(!1),p=(s,r)=>{s.preventDefault(),s.stopPropagation(),o(r),t(!0)},m=()=>{n&&x.delete(route("admin.support.destroy",n.id),{onSuccess:()=>{t(!1),o(null)}})};return e.jsxs(_,{breadcrumbs:[{title:"Admin",href:"/admin/dashboard"},{title:"Support Tickets",href:"/admin/support-tickets"}],children:[e.jsx(u,{title:"Support Tickets Management"}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Support Tickets"}),e.jsx("p",{className:"text-muted-foreground mt-1",children:"Manage user support requests."})]})}),e.jsxs(g,{children:[e.jsx(j,{children:e.jsx(f,{children:"All Tickets"})}),e.jsx(b,{children:i.length>0?e.jsx("div",{className:"space-y-4",children:i.map(s=>e.jsxs("div",{className:"relative group",children:[e.jsx(h,{href:`/admin/support-tickets/${s.id}`,children:e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-accent/50 transition-colors cursor-pointer pr-16",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-semibold",children:s.subject}),e.jsx("span",{className:"text-xs text-muted-foreground bg-muted px-2 py-0.5 rounded",children:s.ticket_unique_id})]}),e.jsxs("div",{className:"text-sm text-muted-foreground mt-1",children:["By ",s.user_name," â€¢ Last updated ",s.last_updated]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(d,{variant:s.priority==="high"?"destructive":"secondary",children:s.priority}),e.jsx(d,{className:s.status==="open"?"bg-green-500 hover:bg-green-600":s.status==="in_progress"?"bg-blue-500 hover:bg-blue-600":"bg-gray-500 hover:bg-gray-600",children:s.status.replace("_"," ")})]})]})}),e.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsx(a,{variant:"ghost",size:"icon",onClick:r=>p(r,s),className:"h-8 w-8 text-red-500 hover:text-red-600 hover:bg-red-50",children:e.jsx(k,{className:"w-4 h-4"})})})]},s.id))}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(A,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),e.jsx("h3",{className:"text-lg font-semibold",children:"No tickets found"}),e.jsx("p",{className:"text-muted-foreground",children:"There are no support tickets yet."})]})})]})]}),e.jsx(v,{open:c,onOpenChange:t,children:e.jsxs(y,{children:[e.jsxs(N,{children:[e.jsx(D,{children:"Delete Ticket"}),e.jsx(T,{children:"Are you sure you want to delete this support ticket? This action cannot be undone."})]}),e.jsxs(C,{children:[e.jsx(a,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),e.jsx(a,{variant:"destructive",onClick:m,children:"Delete"})]})]})})]})}export{J as default};
