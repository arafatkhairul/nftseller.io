import{r as l,j as e,H as M,b as g}from"./app-BJvc5En1.js";import{B as S}from"./badge-UqWFWnzv.js";import{c,B as m}from"./button-DxzuIuhW.js";import{D as F,f as L,a as I,b as B,c as $}from"./dialog-CVwK1KpY.js";import{I as v}from"./input-BkfGZ38G.js";import{L as w}from"./label-Dp5QKhMh.js";import{S as q}from"./switch-ddw7gcyI.js";import{A as z}from"./app-layout-CXzkv7Da.js";import{c as f}from"./createLucideIcon-BZtpXEuX.js";/* empty css            */import"./index-CoSAqTOx.js";import"./index-CSymTNq3.js";import"./Combination-CBsxsoGX.js";import"./iconBase-B6rmVwEN.js";import"./index-BuJWQyH3.js";import"./index-3twuYENl.js";import"./app-shell-B8nd7GtJ.js";import"./dropdown-menu-hRa-5S7K.js";import"./index-lucvfSli.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],V=f("Plus",Q);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],U=f("Search",O);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],J=f("SquarePen",G);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],W=f("Trash2",K),T=l.forwardRef(({className:t,...a},r)=>e.jsx("div",{className:"relative w-full overflow-auto",children:e.jsx("table",{ref:r,className:c("w-full caption-bottom text-sm",t),...a})}));T.displayName="Table";const P=l.forwardRef(({className:t,...a},r)=>e.jsx("thead",{ref:r,className:c("[&_tr]:border-b",t),...a}));P.displayName="TableHeader";const D=l.forwardRef(({className:t,...a},r)=>e.jsx("tbody",{ref:r,className:c("[&_tr:last-child]:border-0",t),...a}));D.displayName="TableBody";const X=l.forwardRef(({className:t,...a},r)=>e.jsx("tfoot",{ref:r,className:c("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...a}));X.displayName="TableFooter";const p=l.forwardRef(({className:t,...a},r)=>e.jsx("tr",{ref:r,className:c("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...a}));p.displayName="TableRow";const h=l.forwardRef(({className:t,...a},r)=>e.jsx("th",{ref:r,className:c("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...a}));h.displayName="TableHead";const n=l.forwardRef(({className:t,...a},r)=>e.jsx("td",{ref:r,className:c("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...a}));n.displayName="TableCell";const Y=l.forwardRef(({className:t,...a},r)=>e.jsx("caption",{ref:r,className:c("mt-4 text-sm text-muted-foreground",t),...a}));Y.displayName="TableCaption";function ye({networks:t}){const[a,r]=l.useState(""),[E,i]=l.useState(!1),[x,_]=l.useState(null),[o,d]=l.useState({name:"",currency_symbol:"",is_active:!0}),[u,j]=l.useState({}),[k,y]=l.useState(!1),C=t.filter(s=>s.name.toLowerCase().includes(a.toLowerCase())||s.currency_symbol.toLowerCase().includes(a.toLowerCase())),R=s=>{s.preventDefault(),y(!0),x?g.put(`/admin/p2p-networks/${x}`,o,{onSuccess:()=>{i(!1),b()},onError:N=>{j(N)},onFinish:()=>{y(!1)}}):g.post("/admin/p2p-networks",o,{onSuccess:()=>{i(!1),b()},onError:N=>{j(N)},onFinish:()=>{y(!1)}})},A=s=>{confirm("Are you sure you want to delete this network?")&&g.delete(`/admin/p2p-networks/${s}`)},H=s=>{d({name:s.name,currency_symbol:s.currency_symbol,is_active:s.is_active}),_(s.id),i(!0)},b=()=>{d({name:"",currency_symbol:"",is_active:!0}),_(null),j({})};return e.jsxs(z,{breadcrumbs:[{title:"Admin",href:"/admin/dashboard"},{title:"P2P Networks",href:"/admin/p2p-networks"}],children:[e.jsx(M,{title:"Manage P2P Networks"}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"P2P Networks"}),e.jsx("p",{className:"text-muted-foreground",children:"Manage transfer networks and currencies for P2P transactions."})]}),e.jsxs(F,{open:E,onOpenChange:s=>{i(s),s||b()},children:[e.jsx(L,{asChild:!0,children:e.jsxs(m,{className:"gap-2",children:[e.jsx(V,{className:"w-4 h-4"}),"Add Network"]})}),e.jsxs(I,{children:[e.jsx(B,{children:e.jsx($,{children:x?"Edit Network":"Add New Network"})}),e.jsxs("form",{onSubmit:R,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(w,{htmlFor:"name",children:"Network Name *"}),e.jsx(v,{id:"name",value:o.name,onChange:s=>d({...o,name:s.target.value}),placeholder:"e.g. Ethereum (ERC20)",className:"mt-1"}),u.name&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:u.name})]}),e.jsxs("div",{children:[e.jsx(w,{htmlFor:"currency_symbol",children:"Currency Symbol *"}),e.jsx(v,{id:"currency_symbol",value:o.currency_symbol,onChange:s=>d({...o,currency_symbol:s.target.value}),placeholder:"e.g. ETH",className:"mt-1"}),u.currency_symbol&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:u.currency_symbol})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(w,{children:"Active Status"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Enable or disable this network"})]}),e.jsx(q,{checked:o.is_active,onCheckedChange:s=>d({...o,is_active:s})})]}),e.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[e.jsx(m,{type:"button",variant:"outline",onClick:()=>i(!1),children:"Cancel"}),e.jsx(m,{type:"submit",disabled:k,children:k?"Saving...":x?"Update Network":"Create Network"})]})]})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2 max-w-sm",children:[e.jsx(U,{className:"w-4 h-4 text-muted-foreground"}),e.jsx(v,{placeholder:"Search networks...",value:a,onChange:s=>r(s.target.value),className:"h-9"})]}),e.jsx("div",{className:"border rounded-lg",children:e.jsxs(T,{children:[e.jsx(P,{children:e.jsxs(p,{children:[e.jsx(h,{children:"Name"}),e.jsx(h,{children:"Currency"}),e.jsx(h,{children:"Status"}),e.jsx(h,{className:"text-right",children:"Actions"})]})}),e.jsx(D,{children:C.length===0?e.jsx(p,{children:e.jsx(n,{colSpan:4,className:"text-center py-8 text-muted-foreground",children:"No networks found."})}):C.map(s=>e.jsxs(p,{children:[e.jsx(n,{className:"font-medium",children:s.name}),e.jsx(n,{children:e.jsx(S,{variant:"secondary",children:s.currency_symbol})}),e.jsx(n,{children:e.jsx(S,{variant:s.is_active?"default":"secondary",children:s.is_active?"Active":"Inactive"})}),e.jsx(n,{className:"text-right",children:e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(m,{variant:"ghost",size:"icon",onClick:()=>H(s),children:e.jsx(J,{className:"w-4 h-4"})}),e.jsx(m,{variant:"ghost",size:"icon",className:"text-red-500 hover:text-red-600",onClick:()=>A(s.id),children:e.jsx(W,{className:"w-4 h-4"})})]})})]},s.id))})]})})]})]})}export{ye as default};
